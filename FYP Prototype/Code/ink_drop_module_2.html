<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Ink Splash Transition</title>
<style>
  body, html {
    margin: 0;
    height: 100%;
    overflow: hidden;
    background: #fff; /* Changed to white */
  }
  #nextContent {
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background: #fff; /* Keep next content white too */
    display: flex;
    justify-content: center;
    align-items: center;
    font-size: 3em;
    color: #333;
    opacity: 0;
    transition: opacity 1s ease;
  }
</style>
</head>
<body>
<canvas id="inkCanvas"></canvas>
<div id="nextContent"></div>

<script>
// Setup
const canvas = document.getElementById('inkCanvas');
const ctx = canvas.getContext('2d');
canvas.width = window.innerWidth;
canvas.height = window.innerHeight;

let time = 0;
const centerX = canvas.width/2;
const centerY = canvas.height/2;
const maxRadius = Math.hypot(canvas.width, canvas.height);

// Simple noise function
function noise(x, y) {
  return (Math.sin(x*0.05 + time*0.1) + Math.sin(y*0.05 + time*0.1)) * 0.5;
}

function draw() {
  ctx.clearRect(0,0,canvas.width,canvas.height);

  const radius = time*8; // expansion speed

  // Draw ink blob
  const gradient = ctx.createRadialGradient(centerX, centerY, 0, centerX, centerY, radius);
  gradient.addColorStop(0, 'rgba(0,0,0,1)');       // solid black center
  gradient.addColorStop(0.8, 'rgba(0,0,0,0.5)');   // fading edges
  gradient.addColorStop(1, 'rgba(0,0,0,0)');       // transparent edge

  ctx.fillStyle = gradient;

  ctx.beginPath();
  for(let angle=0; angle<Math.PI*2; angle+=0.01){
    const r = radius + noise(Math.cos(angle)*radius, Math.sin(angle)*radius)*30;
    const x = centerX + r * Math.cos(angle);
    const y = centerY + r * Math.sin(angle);
    if(angle===0) ctx.moveTo(x,y);
    else ctx.lineTo(x,y);
  }
  ctx.closePath();
  ctx.fill();

  // Optional streaks
  for(let i=0;i<50;i++){
    const angle = Math.random()*Math.PI*2;
    const len = Math.random()*50 + radius;
    ctx.strokeStyle = 'rgba(0,0,0,0.1)';
    ctx.beginPath();
    ctx.moveTo(centerX, centerY);
    ctx.lineTo(centerX + Math.cos(angle)*len, centerY + Math.sin(angle)*len);
    ctx.stroke();
  }

  time++;
  if(radius < maxRadius) requestAnimationFrame(draw);
  else showNext();
}

function showNext(){
  // document.getElementById('nextContent').style.opacity = 1;
  document.getElementById('nextContent').style.opacity = 1;
  canvas.style.display = 'none';
}

draw();
</script>
</body>
</html>
